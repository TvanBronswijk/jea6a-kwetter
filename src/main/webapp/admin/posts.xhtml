<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core" xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<f:view contentType="text/html">
    <h:head>
        <meta charset="utf-8"/>
    </h:head>
    <h:body>
        <!-- Modal -->
        <b:modal id="post-info" title="Post Details" styleClass="modalPseudoClass">


            <f:facet name="footer">
                <b:button value="Close" dismiss="modal"/>
            </f:facet>
        </b:modal>

        <!-- header -->
        <div id="header">
            <ui:insert name="header">
                <ui:include src="../templates/_header.xhtml"/>
            </ui:insert>
        </div>

        <!-- content -->
        <b:container fluid="true">
            <h:form>
                <b:dataTable value="#{admin.posts}"
                             var="post">
                    <b:dataTableColumn value="#{post.id}"/>
                    <b:dataTableColumn label="User" value="#{post.user.username}" order="asc"/>
                    <b:dataTableColumn value="#{post.content}"/>
                    <b:dataTableColumn label="Time Posted" value="#{post.timestamp}"/>
                    <b:dataTableColumn label="Actions" style="text-align:center;">
                        <b:buttonGroup>
                            <b:button value="details" icon="info-sign" look="primary"
                                      onclick="$('.modalPseudoClass').modal()"/>
                            <b:commandButton value="edit" icon="edit" look="success"
                                             action="#{admin.updatePost(post)}"/>
                            <b:commandButton value="delete" icon="trash" look="danger"
                                             action="#{admin.deletePost(post)}"/>
                        </b:buttonGroup>
                    </b:dataTableColumn>
                </b:dataTable>
            </h:form>
        </b:container>

        <!-- footer -->
        <div id="footer">
            <ui:insert name="footer">
                <ui:include src="../templates/_footer.xhtml"/>
            </ui:insert>
        </div>
    </h:body>
</f:view>
</html>